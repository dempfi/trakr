{"version":3,"sources":["app/actions/tasks.coffee","app/app.cjsx","app/components/taskItem.cjsx","app/layouts/new-task/index.cjsx","app/layouts/timeline/index.cjsx","app/router.cjsx","app/store/tasks.coffee","app/utils.coffee"],"names":[],"mappings":"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","file":"osx_container/public/app.js","sourcesContent":["module.exports = Reflux.createActions [\n    'addTask'\n  ]","Timeline  = require 'layouts/timeline'\nNewTask   = require 'layouts/new-task'\n\nTrakr = React.createClass\n  render: -> <NewTask/>\n\n\nrender = () ->\n  React.render(<Trakr/>, document.body)\n\nrender()","module.exports = React.createClass\n\n  render : ->\n    title = @props.task.get('title')\n\n    return (\n      <div>\n        {@props.task.get('title')} {@props.task.get('project')}\n      </div>\n    )","TasksStore      = require 'store/tasks'\nTasksActions    = require 'actions/tasks'\n\nmodule.exports = React.createClass\n  mixins: [Reflux.connect(TasksStore, 'tasks')]\n\n\n  addTask : ->\n    TasksActions.addTask({\n      title       : 'some cool title'\n      rate        : 34\n      currency    : '$'\n      project     : 'project'\n      estimate    : [7,9]\n      deadline    : moment().toISOString()\n      complexity  : 8\n    })\n\n  render : ->\n    return (\n      <div className='new-task'>\n        <input placeholder='title'/>\n        <input placeholder='project'/>\n        <input placeholder='rate'/>\n        <input placeholder='currency'/>\n        <input placeholder='estimate'/>\n        <input placeholder='deadline'/>\n        <input placeholder='complexity'/>\n        <div onClick={@addTask}>add task</div>\n      </div>\n    )","TasksStore      = require 'store/tasks'\nTaskItem        = require 'components/taskItem'\n\nmodule.exports = React.createClass\n  mixins: [Reflux.connect(TasksStore, 'tasks')]\n\n  render : ->\n    tasks = @state.tasks\n    return (\n      <div className='timeline'>\n        {tasks.map (task) -> <TaskItem key={task.get('id')} task={task}/>}\n      </div>\n    )","app = window.app or {}\n\nUtils      = app.Utils\nTasksList  = app.TasksList\nActiveTask = app.ActiveTask\nMainList   = require 'layouts/timeline'\nNewTask    = app.NewTask\nTaskScreen = app.TaskScreen\n\n\nmodule.exports = class Router\n  constructor : (start) ->\n    @route = @routes[start]\n\n  onChanges   : []\n\n  routes      :\n    newTask   : (self) ->\n      <NewTask model={self.props.model}/>\n\n    tasksList : (self) ->\n      <MainList model={self.props.model}/>\n\n    taskScreen : (self) ->\n      task = _.find(self.props.model.tasks, id : @args)\n      <TaskScreen task={task} model={self.props.model}/>\n\n    activeScreen : (self) ->\n      activeTask = _.find(self.props.model.tasks, isActive : true)\n      return <ActiveTask task={activeTask}/> if activeTask\n\n\n  subscribe     : (onChange) -> @onChanges.push(onChange)\n  inform        : -> @onChanges.forEach (cb) -> cb()\n  navigate      : (route, args) ->\n    if route is 'back'\n      @route = @prevRoute\n      @args = @prevArgs\n    else\n      @prevRoute = @route\n      @prevArgs = @args\n      @args = args\n      @route = @routes[route]\n    @inform()\n","TasksActions  = require 'actions/tasks'\nUtils         = require 'utils'\n\nmodule.exports = Reflux.createStore\n  listenables    : [TasksActions]\n\n  getInitialState: ->\n    @tasks = Immutable.fromJS([\n      id          : Utils.uuid()\n      title       : 'some cool task'\n      rate        : 45\n      lastStart   : moment().toISOString()\n      project     : Utils.uuid()\n      timeslots   : []\n    ])\n\n\n  updateTasks : (tasks) ->\n    @tasks = tasks\n    @trigger(tasks)\n\n\n  onAddTask : (params) ->\n    @updateTasks @tasks.push Immutable.Map\n      id          : Utils.uuid()\n      title       : params.title\n      rate        : params.rate\n      currency    : params.currency\n      lastStart   : moment().toISOString()\n      project     : params.project\n      timeslots   : []","module.exports =\n  uuid: ->\n\n    ###jshint bitwise:false ###\n\n    i = undefined\n    random = undefined\n    uuid = ''\n    i = 0\n    while i < 32\n      random = Math.random() * 16 | 0\n      if i == 8 or i == 12 or i == 16 or i == 20\n        uuid += '-'\n      uuid += (if i == 12 then 4 else if i == 16 then random & 3 | 8 else random).toString(16)\n      i++\n    uuid\n  pluralize: (count, word) ->\n    if count == 1 then word else word + 's'\n  store: (namespace, data) ->\n    if data\n      return localStorage.setItem(namespace, JSON.stringify(data))\n    store = localStorage.getItem(namespace)\n    store and JSON.parse(store) or []\n  extend: ->\n    newObj = {}\n    i = 0\n    while i < arguments.length\n      obj = arguments[i]\n      for key of obj\n        if obj.hasOwnProperty(key)\n          newObj[key] = obj[key]\n      i++\n    newObj\n  dayTitle: (day) ->\n    date = new Date(parseInt(day))\n    months = 'Jan,Feb,Mar,Apr,May,June,July,Aug,Sep,Oct,Nov,Dec'.split(',')\n    date.getDate() + ' ' + months[date.getMonth()]\n  today: ->\n    date = new Date\n    date.setUTCHours 0\n    date.setUTCMinutes 0\n    date.setUTCMilliseconds 0\n    date.setUTCSeconds 0\n    date.getTime()"]}